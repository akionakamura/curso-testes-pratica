import pytest
from base.utils.phone import format_phone_number


@pytest.mark.parametrize('raw_number, formatted', [
    ("+5511912341234", "(11) 91234-1234"),
    ("5511912341234", "(11) 91234-1234"),
    ("005511912341234", "(11) 91234-1234"),
    ("11912341234", "(11) 91234-1234"),
    ("011912341234", "(11) 91234-1234"),
    ("912341234", "91234-1234"),
    ("+551132341234", "(11) 3234-1234"),
    ("00551132341234", "(11) 3234-1234"),
    ("551132341234", "(11) 3234-1234"),
    ("1132341234", "(11) 3234-1234"),
    ("01132341234", "(11) 3234-1234"),
    ("32341234", "3234-1234"),
    (None, None),
    ("", None),
    ("1", None),
    # ("9123456", None),
    # ("55912345612231231", None),
])
def test_format_phone_number(raw_number, formatted):
    assert formatted == format_phone_number(raw_number)
